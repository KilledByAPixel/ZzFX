function ZZFXLib(){this.x=new AudioContext;this.r=Date.now();this.b=0;this.volume=.5;this.randomness=.1}ZZFXLib.prototype.z=function(a){if("number"==typeof a){var c={};c.seed=a;this.z(c)}else{c=a;if(void 0!==a.seed){c=this.G(a.seed);for(var b in a)c[b]=a[b]}a=this.G(0);for(var f in c)a[f]=c[f];return this.Z(a.volume,a.randomness,a.frequency,a.frequencySlide,a.length,a.attack,a.noise,a.modulation,a.modulationPhase)}};
ZZFXLib.prototype.Z=function(a,c,b,f,d,g,h,k,l){a*=this.volume;b*=2*Math.PI/44100;b*=1+c*(2*this.R()-1);f*=1E3*Math.PI/Math.pow(44100,2);d=0<d?44100*(10<d?10:d)|0:1;g*=d|0;k*=2*Math.PI/44100;l*=Math.PI;c=[];for(var m=0,n=0,e=0;e<d;++e)c[e]=a*Math.cos(m*b*Math.cos(n*k+l))*(e<g?e/g:1-(e-g)/(d-g)),m+=1+h*(2*this.R()-1),n+=1+h*(2*this.R()-1),b+=f;this.b=c;a=this.x.createBuffer(1,c.length,44100);b=this.x.createBufferSource();a.getChannelData(0).set(c);b.buffer=a;b.connect(this.x.destination);b.start();
return b};
ZZFXLib.prototype.G=function(a){var c=this.r;this.r=a;for(var b=9;b--;)this.R();b={};b.seed=a;b.volume=1;b.randomness=a?this.randomness:0;b.frequency=a?2E3*Math.pow(this.R(),2)|0:220;b.frequencySlide=a?parseFloat((10*Math.pow(this.R(),3)).toFixed(1)):0;b.length=a?parseFloat((.1+this.R()).toFixed(1)):1;b.attack=a?parseFloat(this.R().toFixed(2)):.1;b.noise=a?parseFloat((5*Math.pow(this.R(),3)).toFixed(1)):0;b.modulation=a?parseFloat((99*Math.pow(this.R(),5)).toFixed(1)):0;b.modulationPhase=a?parseFloat(this.R().toFixed(2)):
0;this.r=c;return b};ZZFXLib.prototype.M=function(a,c){return a*Math.pow(2,c/12)};ZZFXLib.prototype.R=function(){this.r^=this.r<<13;this.r^=this.r>>7;this.r^=this.r<<17;return Math.abs(this.r)%1E9/1E9};var ZZFX=new ZZFXLib;